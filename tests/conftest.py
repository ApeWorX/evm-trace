import pytest
from hexbytes import HexBytes

from evm_trace import ParityTrace, ParityTraceList, TraceFrame
from evm_trace.enums import CallType

TRACE_FRAME_DATA = {
    "pc": 1564,
    "op": "RETURN",
    "gas": 0,
    "gasCost": 0,
    "depth": 1,
    "callType": CallType.CALL.value,
    "stack": [
        "0000000000000000000000000000000000000000000000000000000040c10f19",
        "0000000000000000000000000000000000000000000000000000000000000020",
        "0000000000000000000000000000000000000000000000000000000000000140",
    ],
    "memory": [
        "0000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",
        "0000000000000000000000000000000000000000000000000000000000000001",
    ],
    "storage": {
        "0000000000000000000000000000000000000000000000000000000000000004": "0000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",  # noqa: E501
        "ad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5": "0000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",  # noqa: E501
        "aadb61a4b4c5d48b7a5669391b7c73852a3ab7795f24721b9a439220b54b591b": "0000000000000000000000000000000000000000000000000000000000000001",  # noqa: E501
    },
}
CALL_FRAME_DATA = {
    "pc": 359,
    "op": "CALL",
    "gas": 29971782,
    "gasCost": 22369,
    "depth": 1,
    "stack": [
        "0xf552a8b8",
        "0x274b028b03a250ca03644e6c578d81f019ee1323",
        "0x00",
        "0x60",
        "0x24",
        "0x7c",
        "0x00",
        "0x274b028b03a250ca03644e6c578d81f019ee1323",
        "0x01c95546",
    ],
    "memory": [
        "0x0000000000000000000000000000000000000000000000000000000000000000",
        "0x0000000000000000000000000000000000000000000000000000000000000000",
        "0x0000000000000000000000000000000000000000000000000000000000000000",
        "0x000000000000000000000000000000000000000000000000000000004420e486",
        "0x0000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",
    ],
    "storage": {},
}
MUTABLE_CALL_TREE_DATA = {
    "call_type": CallType.CALL,
    "address": HexBytes("0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488"),
    "value": 0,
    "depth": 0,
    "gas_limit": 197110,
    "gas_cost": 194827,
    "calldata": HexBytes("0x"),
    "returndata": HexBytes("0x"),
    "calls": [
        {
            "call_type": CallType.CALL,
            "address": HexBytes("0xbcf7fffd8b256ec51a36782a52d0c34f6474d951"),
            "value": 0,
            "depth": 1,
            "gas_limit": 171094,
            "gas_cost": 168423,
            "calldata": HexBytes("0x61d22ffe"),
            "returndata": HexBytes("0x"),
            "calls": [
                {
                    "call_type": CallType.CALL,
                    "address": HexBytes("0x274b028b03a250ca03644e6c578d81f019ee1323"),
                    "value": 0,
                    "depth": 2,
                    "gas_limit": 163393,
                    "gas_cost": 160842,
                    "calldata": HexBytes("0x8f27163e"),
                    "returndata": HexBytes("0x"),
                    "calls": [],
                    "selfdestruct": False,
                    "failed": False,
                    "displays_last": True,
                }
            ],
            "selfdestruct": False,
            "failed": False,
            "displays_last": False,
        },
        {
            "call_type": CallType.CALL,
            "address": HexBytes("0xbcf7fffd8b256ec51a36782a52d0c34f6474d951"),
            "value": 0,
            "depth": 1,
            "gas_limit": 118796,
            "gas_cost": 116942,
            "calldata": HexBytes("0x61d22ffe"),
            "returndata": HexBytes("0x"),
            "calls": [
                {
                    "call_type": CallType.CALL,
                    "address": HexBytes("0x274b028b03a250ca03644e6c578d81f019ee1323"),
                    "value": 0,
                    "depth": 2,
                    "gas_limit": 116412,
                    "gas_cost": 114595,
                    "calldata": HexBytes("0x8f27163e"),
                    "returndata": HexBytes("0x"),
                    "calls": [],
                    "selfdestruct": False,
                    "failed": False,
                    "displays_last": True,
                }
            ],
            "selfdestruct": False,
            "failed": False,
            "displays_last": False,
        },
        {
            "call_type": CallType.CALL,
            "address": HexBytes("0xbcf7fffd8b256ec51a36782a52d0c34f6474d951"),
            "value": 0,
            "depth": 1,
            "gas_limit": 94902,
            "gas_cost": 93421,
            "calldata": HexBytes(
                "0xb9e5b20a0000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c"
            ),
            "returndata": HexBytes("0x"),
            "calls": [
                {
                    "call_type": CallType.CALL,
                    "address": HexBytes("0x274b028b03a250ca03644e6c578d81f019ee1323"),
                    "value": 0,
                    "depth": 2,
                    "gas_limit": 92724,
                    "gas_cost": 91277,
                    "calldata": HexBytes("0x8f27163e"),
                    "returndata": HexBytes("0x"),
                    "calls": [],
                    "selfdestruct": False,
                    "failed": False,
                    "displays_last": False,
                },
                {
                    "call_type": CallType.CALL,
                    "address": HexBytes("0x274b028b03a250ca03644e6c578d81f019ee1323"),
                    "value": 0,
                    "depth": 2,
                    "gas_limit": 47212,
                    "gas_cost": 46476,
                    "calldata": HexBytes("0x90bb7141"),
                    "returndata": HexBytes("0x"),
                    "calls": [],
                    "selfdestruct": False,
                    "failed": False,
                    "displays_last": False,
                },
                {
                    "call_type": CallType.CALL,
                    "address": HexBytes("0x274b028b03a250ca03644e6c578d81f019ee1323"),
                    "value": 0,
                    "depth": 2,
                    "gas_limit": 23862,
                    "gas_cost": 23491,
                    "calldata": HexBytes("0x90bb7141"),
                    "returndata": HexBytes("0x"),
                    "calls": [],
                    "selfdestruct": False,
                    "failed": False,
                    "displays_last": True,
                },
            ],
            "selfdestruct": False,
            "failed": False,
            "displays_last": True,
        },
    ],
    "selfdestruct": False,
    "failed": False,
    "displays_last": True,
}
STATIC_CALL_TREE_DATA = {
    "call_type": CallType.STATICCALL,
    "address": HexBytes("0x274b028b03a250ca03644e6c578d81f019ee1323"),
    "value": 0,
    "depth": 2,
    "gas_limit": 375554,
    "gas_cost": 369688,
    "calldata": HexBytes("0x7007cbe8"),
    "returndata": HexBytes(
        "0x000000000000000000000000000000000293b0e3558d33b8a4c483e40e2b8db9000000000000000000000000000000000000000000000000018b932eebcc7eb90000000000000000000000000000000000bf550935e92f79f09e3530df8660c5"  # noqa: E501
    ),
    "calls": [],
    "selfdestruct": False,
    "failed": False,
}
DELEGATE_CALL_TREE_DATA = {
    "call_type": CallType.DELEGATECALL,
    "address": HexBytes("0xaa1a02671440be41545d83bddff2bf2488628c10"),
    "value": 0,
    "depth": 3,
    "gas_limit": 163575,
    "gas_cost": 161021,
    "calldata": HexBytes(
        "0x70a0823100000000000000000000000077924185cf0cbb2ae0b746a0086a065d6875b0a5"
    ),
    "returndata": HexBytes("0x00000000000000000000000000000000000000000001136eac81315861fd80a7"),
    "calls": [],
    "selfdestruct": False,
    "failed": False,
}
CALL_TRACE_DATA = {
    "type": "CALL",
    "from": "0x1e59ce931b4cfea3fe4b875411e280e173cb7a9c",
    "to": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
    "value": "0x7b",
    "gas": "0x47cb6e",
    "gasUsed": "0x445e6",
    "input": "0x372dca07",
    "output": "0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000200000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",  # noqa: E501
    "calls": [
        {
            "type": "CALL",
            "from": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
            "to": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
            "value": "0x0",
            "gas": "0x4697e7",
            "gasUsed": "0x84d4",
            "input": "0x045856de00000000000000000000000000000000000000000000000000000000000393cc",
            "output": "0x00000000000000000000000000000000000000000000000000001564ff3f0da300000000000000000000000000000000000000000000000000000002964619c700000000000000000000000000000000000000000000000000000000000393cc00000000000000000000000000000000000000000000000004cae9c39bdb4f7700000000000000000000000000000000000000000000000000005af310694bb20000000000000000000000000000000000000000011dc18b6f8f1601b7b1b33100000000000000000000000000000000000000000000000000000000000393cc000000000000000000000000000000000000000000000004ffd72d92184e6bb20000000000000000000000000000000000000000000000000000000000000d7e000000000000000000000000000000000000000000000006067396b875234f7700000000000000000000000000000000000000000000000000012f39bc807bb20000000000000000000000000000000000000002f5db749b3db467538fb1b331",  # noqa: E501
        },
        {
            "type": "CALL",
            "from": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
            "to": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
            "value": "0x0",
            "gas": "0x45fb34",
            "gasUsed": "0xf3eb",
            "input": "0xbeed0f8500000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000011dc18b6f8f1601b7b1b33100000000000000000000000000000000000000000000000000000000000000096963652d637265616d0000000000000000000000000000000000000000000000",  # noqa: E501
            "output": "0x",
            "calls": [
                {
                    "type": "STATICCALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "gas": "0x44b63f",
                    "gasUsed": "0x5d9",
                    "input": "0x7007cbe8",
                    "output": "0x000000000000000000000000000000000293b0e3558d33b8a4c483e40e2b8db9000000000000000000000000000000000000000000000000018b932eebcc7eb90000000000000000000000000000000000bf550935e92f79f09e3530df8660c5",  # noqa: E501
                },
                {
                    "type": "CALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "value": "0x0",
                    "gas": "0x44a772",
                    "gasUsed": "0xa1f2",
                    "input": "0x878fb70100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000011dc18b6f8f1601b7b1b331000000000000000000000000f2df0b975c0c9efa2f8ca0491c2d1685104d2488000000000000000000000000000000000000000000000000000000000000000773696d706c657200000000000000000000000000000000000000000000000000",  # noqa: E501
                    "output": "0x",
                },
            ],
        },
        {
            "type": "CALL",
            "from": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
            "to": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
            "value": "0x0",
            "gas": "0x4506ef",
            "gasUsed": "0x2d3",
            "input": "0xb27b88040000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",
            "output": "0x0000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",
        },
        {
            "type": "CALL",
            "from": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
            "to": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
            "value": "0x0",
            "gas": "0x450126",
            "gasUsed": "0x165ab",
            "input": "0xb9e5b20a0000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",
            "output": "0x",
            "calls": [
                {
                    "type": "STATICCALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "gas": "0x43e944",
                    "gasUsed": "0x947",
                    "input": "0xe5e1d93f000000000000000000000000f2df0b975c0c9efa2f8ca0491c2d1685104d2488",  # noqa: E501
                    "output": "0x00000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000011dc18b6f8f1601b7b1b331000000000000000000000000f2df0b975c0c9efa2f8ca0491c2d1685104d2488000000000000000000000000000000000000000000000000000000000000000773696d706c657200000000000000000000000000000000000000000000000000",  # noqa: E501
                },
                {
                    "type": "CALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "value": "0x0",
                    "gas": "0x43d5bd",
                    "gasUsed": "0x8442",
                    "input": "0x878fb70100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323000000000000000000000000000000000000000000000000000000000000000773696d706c657200000000000000000000000000000000000000000000000000",  # noqa: E501
                    "output": "0x",
                },
                {
                    "type": "CALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "value": "0x0",
                    "gas": "0x4348e6",
                    "gasUsed": "0x6253",
                    "input": "0x90bb7141",
                    "output": "0x",
                },
                {
                    "type": "CALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "value": "0x0",
                    "gas": "0x42e652",
                    "gasUsed": "0x5a83",
                    "input": "0x90bb7141",
                    "output": "0x",
                },
            ],
        },
        {
            "type": "STATICCALL",
            "from": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
            "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "gas": "0x439750",
            "gasUsed": "0xafe",
            "input": "0xbff2e0950000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",
            "output": "0x0000000000000000000000000000000000000000000000000000000000000000",
        },
        {
            "type": "STATICCALL",
            "from": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
            "to": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
            "gas": "0x437fe8",
            "gasUsed": "0x35b",
            "input": "0x9155fd570000000000000000000000001e59ce931b4cfea3fe4b875411e280e173cb7a9c",
            "output": "0x0000000000000000000000000000000000000000000000000000000000000000",
        },
        {
            "type": "CALL",
            "from": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
            "to": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
            "value": "0x0",
            "gas": "0x43784b",
            "gasUsed": "0x7f83",
            "input": "0xbeed0f850000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000096c656d6f6e64726f700000000000000000000000000000000000000000000000",  # noqa: E501
            "output": "0x",
            "calls": [
                {
                    "type": "STATICCALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "gas": "0x426124",
                    "gasUsed": "0x5d9",
                    "input": "0x7007cbe8",
                    "output": "0x000000000000000000000000000000000293b0e3558d33b8a4c483e40e2b8db9000000000000000000000000000000000000000000000000018b932eebcc7eb90000000000000000000000000000000000bf550935e92f79f09e3530df8660c5",  # noqa: E501
                },
                {
                    "type": "CALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "value": "0x0",
                    "gas": "0x425257",
                    "gasUsed": "0x649e",
                    "input": "0x878fb70100000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f2df0b975c0c9efa2f8ca0491c2d1685104d2488000000000000000000000000000000000000000000000000000000000000000773696d706c657200000000000000000000000000000000000000000000000000",  # noqa: E501
                    "output": "0x",
                },
            ],
        },
        {
            "type": "CALL",
            "from": "0xf2df0b975c0c9efa2f8ca0491c2d1685104d2488",
            "to": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
            "value": "0x0",
            "gas": "0x42f728",
            "gasUsed": "0x7f83",
            "input": "0xbeed0f850000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000006f0000000000000000000000000000000000000000000000000000000000000014736e6974636865735f6765745f73746963686573000000000000000000000000",  # noqa: E501
            "output": "0x",
            "calls": [
                {
                    "type": "STATICCALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "gas": "0x41e206",
                    "gasUsed": "0x5d9",
                    "input": "0x7007cbe8",
                    "output": "0x000000000000000000000000000000000293b0e3558d33b8a4c483e40e2b8db9000000000000000000000000000000000000000000000000018b932eebcc7eb90000000000000000000000000000000000bf550935e92f79f09e3530df8660c5",  # noqa: E501
                },
                {
                    "type": "CALL",
                    "from": "0xbcf7fffd8b256ec51a36782a52d0c34f6474d951",
                    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
                    "value": "0x0",
                    "gas": "0x41d339",
                    "gasUsed": "0x649e",
                    "input": "0x878fb7010000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006f000000000000000000000000f2df0b975c0c9efa2f8ca0491c2d1685104d2488000000000000000000000000000000000000000000000000000000000000000773696d706c657200000000000000000000000000000000000000000000000000",  # noqa: E501
                    "output": "0x",
                },
            ],
        },
    ],
}
DEPLOY_CALL_TRACE_DATA = {
    "from": "0x1e59ce931b4cfea3fe4b875411e280e173cb7a9c",
    "gas": "0x47d5cc",
    "gasUsed": "0x11204",
    "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
    "input": "0x61004f61000f60003961004f6000f36003361161000c57610037565b60003560e01c3461003d57639a40e3f68118610035576024361061003d57600160405260206040f35b505b60006000fd5b600080fda165767970657283000307000b",  # noqa: E501
    "output": "0x6003361161000c57610037565b60003560e01c3461003d57639a40e3f68118610035576024361061003d57600160405260206040f35b505b60006000fd5b600080fda165767970657283000307000b",  # noqa: E501
    "value": "0x0",
    "type": "CREATE",
}
PARITY_CREATE2_TRACE = [
    {
        "action": {
            "from": "0x1e59ce931b4cfea3fe4b875411e280e173cb7a9c",
            "to": "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "value": "0x0",
            "gas": "0xf939",
            "input": "0xfdf80bda000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "callType": "call",
        },
        "result": {
            "gasUsed": "0xf939",
            "output": "0x000000000000000000000000d34889481d02656564e061dab813532b5ad9d109",
        },
        "traceAddress": [],
        "subtraces": 1,
        "transactionPosition": 0,
        "transactionHash": "0x0fbf5ad961c0d49a8820ea096b451fd4ddac46ee541987f5d1d75b98a1423c0e",
        "blockNumber": 2,
        "blockHash": "0x1566836b5b3bc8a4de85b9a3dcab3d7627d8c98279aeace2b477e577806131f1",
        "type": "call",
    },
    {
        "action": {
            "from": "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "value": "0x0",
            "gas": "0x7a0e",
            "init": "0x6200009c3d81600b3d39f36003361161000c57610084565b60003560e01c3461008a5763fdf80bda8118610082576024361061008a576004358060a01c61008a57604052604051803b59811561008a578160381b6a620000003d81600b3d39f317815281600060208301853c607b600b8301601583016000f5801561008a5790509050905060605260206060f35b505b60006000fd5b600080fda165767970657283000307000b",  # noqa: E501
        },
        "result": {
            "gasUsed": "0x7a0e",
            "code": "0x6003361161000c57610084565b60003560e01c3461008a5763fdf80bda8118610082576024361061008a576004358060a01c61008a57604052604051803b59811561008a578160381b6a620000003d81600b3d39f317815281600060208301853c607b600b8301601583016000f5801561008a5790509050905060605260206060f35b505b60006000fd5b600080fda165767970657283000307000b",  # noqa: E501
            "address": "0xd34889481d02656564e061dab813532b5ad9d109",
        },
        "traceAddress": [0],
        "subtraces": 0,
        "transactionPosition": 0,
        "transactionHash": "0x0fbf5ad961c0d49a8820ea096b451fd4ddac46ee541987f5d1d75b98a1423c0e",
        "blockNumber": 2,
        "blockHash": "0x1566836b5b3bc8a4de85b9a3dcab3d7627d8c98279aeace2b477e577806131f1",
        "type": "create",
    },
]
GETH_CREATE2_TRACE = [
    {"depth": 1, "gas": 29978568, "gasCost": 3, "memory": [], "op": "PUSH1", "pc": 0, "stack": []},
    {
        "depth": 1,
        "gas": 29978565,
        "gasCost": 2,
        "memory": [],
        "op": "CALLDATASIZE",
        "pc": 2,
        "stack": ["0x3"],
    },
    {
        "depth": 1,
        "gas": 29978563,
        "gasCost": 3,
        "memory": [],
        "op": "GT",
        "pc": 3,
        "stack": ["0x3", "0x24"],
    },
    {
        "depth": 1,
        "gas": 29978560,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH2",
        "pc": 4,
        "stack": ["0x1"],
    },
    {
        "depth": 1,
        "gas": 29978557,
        "gasCost": 10,
        "memory": [],
        "op": "JUMPI",
        "pc": 7,
        "stack": ["0x1", "0xc"],
    },
    {
        "depth": 1,
        "gas": 29978547,
        "gasCost": 1,
        "memory": [],
        "op": "JUMPDEST",
        "pc": 12,
        "stack": [],
    },
    {"depth": 1, "gas": 29978546, "gasCost": 3, "memory": [], "op": "PUSH1", "pc": 13, "stack": []},
    {
        "depth": 1,
        "gas": 29978543,
        "gasCost": 3,
        "memory": [],
        "op": "CALLDATALOAD",
        "pc": 15,
        "stack": ["0x0"],
    },
    {
        "depth": 1,
        "gas": 29978540,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH1",
        "pc": 16,
        "stack": ["0xfdf80bda000000000000000000000000274b028b03a250ca03644e6c578d81f0"],
    },
    {
        "depth": 1,
        "gas": 29978537,
        "gasCost": 3,
        "memory": [],
        "op": "SHR",
        "pc": 18,
        "stack": ["0xfdf80bda000000000000000000000000274b028b03a250ca03644e6c578d81f0", "0xe0"],
    },
    {
        "depth": 1,
        "gas": 29978534,
        "gasCost": 2,
        "memory": [],
        "op": "CALLVALUE",
        "pc": 19,
        "stack": ["0xfdf80bda"],
    },
    {
        "depth": 1,
        "gas": 29978532,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH2",
        "pc": 20,
        "stack": ["0xfdf80bda", "0x0"],
    },
    {
        "depth": 1,
        "gas": 29978529,
        "gasCost": 10,
        "memory": [],
        "op": "JUMPI",
        "pc": 23,
        "stack": ["0xfdf80bda", "0x0", "0x8a"],
    },
    {
        "depth": 1,
        "gas": 29978519,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH4",
        "pc": 24,
        "stack": ["0xfdf80bda"],
    },
    {
        "depth": 1,
        "gas": 29978516,
        "gasCost": 3,
        "memory": [],
        "op": "DUP2",
        "pc": 29,
        "stack": ["0xfdf80bda", "0xfdf80bda"],
    },
    {
        "depth": 1,
        "gas": 29978513,
        "gasCost": 3,
        "memory": [],
        "op": "XOR",
        "pc": 30,
        "stack": ["0xfdf80bda", "0xfdf80bda", "0xfdf80bda"],
    },
    {
        "depth": 1,
        "gas": 29978510,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH2",
        "pc": 31,
        "stack": ["0xfdf80bda", "0x0"],
    },
    {
        "depth": 1,
        "gas": 29978507,
        "gasCost": 10,
        "memory": [],
        "op": "JUMPI",
        "pc": 34,
        "stack": ["0xfdf80bda", "0x0", "0x82"],
    },
    {
        "depth": 1,
        "gas": 29978497,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH1",
        "pc": 35,
        "stack": ["0xfdf80bda"],
    },
    {
        "depth": 1,
        "gas": 29978494,
        "gasCost": 2,
        "memory": [],
        "op": "CALLDATASIZE",
        "pc": 37,
        "stack": ["0xfdf80bda", "0x24"],
    },
    {
        "depth": 1,
        "gas": 29978492,
        "gasCost": 3,
        "memory": [],
        "op": "LT",
        "pc": 38,
        "stack": ["0xfdf80bda", "0x24", "0x24"],
    },
    {
        "depth": 1,
        "gas": 29978489,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH2",
        "pc": 39,
        "stack": ["0xfdf80bda", "0x0"],
    },
    {
        "depth": 1,
        "gas": 29978486,
        "gasCost": 10,
        "memory": [],
        "op": "JUMPI",
        "pc": 42,
        "stack": ["0xfdf80bda", "0x0", "0x8a"],
    },
    {
        "depth": 1,
        "gas": 29978476,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH1",
        "pc": 43,
        "stack": ["0xfdf80bda"],
    },
    {
        "depth": 1,
        "gas": 29978473,
        "gasCost": 3,
        "memory": [],
        "op": "CALLDATALOAD",
        "pc": 45,
        "stack": ["0xfdf80bda", "0x4"],
    },
    {
        "depth": 1,
        "gas": 29978470,
        "gasCost": 3,
        "memory": [],
        "op": "DUP1",
        "pc": 46,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323"],
    },
    {
        "depth": 1,
        "gas": 29978467,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH1",
        "pc": 47,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
        ],
    },
    {
        "depth": 1,
        "gas": 29978464,
        "gasCost": 3,
        "memory": [],
        "op": "SHR",
        "pc": 49,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0xa0",
        ],
    },
    {
        "depth": 1,
        "gas": 29978461,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH2",
        "pc": 50,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323", "0x0"],
    },
    {
        "depth": 1,
        "gas": 29978458,
        "gasCost": 10,
        "memory": [],
        "op": "JUMPI",
        "pc": 53,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323", "0x0", "0x8a"],
    },
    {
        "depth": 1,
        "gas": 29978448,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH1",
        "pc": 54,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323"],
    },
    {
        "depth": 1,
        "gas": 29978445,
        "gasCost": 12,
        "memory": [],
        "op": "MSTORE",
        "pc": 56,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323", "0x40"],
    },
    {
        "depth": 1,
        "gas": 29978433,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "PUSH1",
        "pc": 57,
        "stack": ["0xfdf80bda"],
    },
    {
        "depth": 1,
        "gas": 29978430,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "MLOAD",
        "pc": 59,
        "stack": ["0xfdf80bda", "0x40"],
    },
    {
        "depth": 1,
        "gas": 29978427,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "DUP1",
        "pc": 60,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323"],
    },
    {
        "depth": 1,
        "gas": 29978424,
        "gasCost": 100,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "EXTCODESIZE",
        "pc": 61,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
        ],
    },
    {
        "depth": 1,
        "gas": 29978324,
        "gasCost": 2,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "MSIZE",
        "pc": 62,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323", "0x9c"],
    },
    {
        "depth": 1,
        "gas": 29978322,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "DUP2",
        "pc": 63,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323", "0x9c", "0x60"],
    },
    {
        "depth": 1,
        "gas": 29978319,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "ISZERO",
        "pc": 64,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
        ],
    },
    {
        "depth": 1,
        "gas": 29978316,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "PUSH2",
        "pc": 65,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x0",
        ],
    },
    {
        "depth": 1,
        "gas": 29978313,
        "gasCost": 10,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "JUMPI",
        "pc": 68,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x0",
            "0x8a",
        ],
    },
    {
        "depth": 1,
        "gas": 29978303,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "DUP2",
        "pc": 69,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323", "0x9c", "0x60"],
    },
    {
        "depth": 1,
        "gas": 29978300,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "PUSH1",
        "pc": 70,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
        ],
    },
    {
        "depth": 1,
        "gas": 29978297,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "SHL",
        "pc": 72,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
            "0x38",
        ],
    },
    {
        "depth": 1,
        "gas": 29978294,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "PUSH11",
        "pc": 73,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c00000000000000",
        ],
    },
    {
        "depth": 1,
        "gas": 29978291,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "OR",
        "pc": 85,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c00000000000000",
            "0x620000003d81600b3d39f3",
        ],
    },
    {
        "depth": 1,
        "gas": 29978288,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "DUP2",
        "pc": 86,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x6200009c3d81600b3d39f3",
        ],
    },
    {
        "depth": 1,
        "gas": 29978285,
        "gasCost": 6,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
        ],
        "op": "MSTORE",
        "pc": 87,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x6200009c3d81600b3d39f3",
            "0x60",
        ],
    },
    {
        "depth": 1,
        "gas": 29978279,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
        ],
        "op": "DUP2",
        "pc": 88,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323", "0x9c", "0x60"],
    },
    {
        "depth": 1,
        "gas": 29978276,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
        ],
        "op": "PUSH1",
        "pc": 89,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
        ],
    },
    {
        "depth": 1,
        "gas": 29978273,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
        ],
        "op": "PUSH1",
        "pc": 91,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
            "0x0",
        ],
    },
    {
        "depth": 1,
        "gas": 29978270,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
        ],
        "op": "DUP4",
        "pc": 93,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
            "0x0",
            "0x20",
        ],
    },
    {
        "depth": 1,
        "gas": 29978267,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
        ],
        "op": "ADD",
        "pc": 94,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
            "0x0",
            "0x20",
            "0x60",
        ],
    },
    {
        "depth": 1,
        "gas": 29978264,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
        ],
        "op": "DUP6",
        "pc": 95,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
            "0x0",
            "0x80",
        ],
    },
    {
        "depth": 1,
        "gas": 29978261,
        "gasCost": 130,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
        ],
        "op": "EXTCODECOPY",
        "pc": 96,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x9c",
            "0x0",
            "0x80",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
        ],
    },
    {
        "depth": 1,
        "gas": 29978131,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "PUSH1",
        "pc": 97,
        "stack": ["0xfdf80bda", "0x274b028b03a250ca03644e6c578d81f019ee1323", "0x9c", "0x60"],
    },
    {
        "depth": 1,
        "gas": 29978128,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "PUSH1",
        "pc": 99,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x7b",
        ],
    },
    {
        "depth": 1,
        "gas": 29978125,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "DUP4",
        "pc": 101,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x7b",
            "0xb",
        ],
    },
    {
        "depth": 1,
        "gas": 29978122,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "ADD",
        "pc": 102,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x7b",
            "0xb",
            "0x9c",
        ],
    },
    {
        "depth": 1,
        "gas": 29978119,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "PUSH1",
        "pc": 103,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x7b",
            "0xa7",
        ],
    },
    {
        "depth": 1,
        "gas": 29978116,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "DUP4",
        "pc": 105,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x7b",
            "0xa7",
            "0x15",
        ],
    },
    {
        "depth": 1,
        "gas": 29978113,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "ADD",
        "pc": 106,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x7b",
            "0xa7",
            "0x15",
            "0x60",
        ],
    },
    {
        "depth": 1,
        "gas": 29978110,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "PUSH1",
        "pc": 107,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x7b",
            "0xa7",
            "0x75",
        ],
    },
    {
        "depth": 1,
        "gas": 29978107,
        "gasCost": 63294,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "CREATE2",
        "pc": 109,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0x7b",
            "0xa7",
            "0x75",
            "0x0",
        ],
    },
    {"depth": 2, "gas": 29478152, "gasCost": 3, "memory": [], "op": "PUSH3", "pc": 0, "stack": []},
    {
        "depth": 2,
        "gas": 29478149,
        "gasCost": 2,
        "memory": [],
        "op": "RETURNDATASIZE",
        "pc": 4,
        "stack": ["0x9c"],
    },
    {
        "depth": 2,
        "gas": 29478147,
        "gasCost": 3,
        "memory": [],
        "op": "DUP2",
        "pc": 5,
        "stack": ["0x9c", "0x0"],
    },
    {
        "depth": 2,
        "gas": 29478144,
        "gasCost": 3,
        "memory": [],
        "op": "PUSH1",
        "pc": 6,
        "stack": ["0x9c", "0x0", "0x9c"],
    },
    {
        "depth": 2,
        "gas": 29478141,
        "gasCost": 2,
        "memory": [],
        "op": "RETURNDATASIZE",
        "pc": 8,
        "stack": ["0x9c", "0x0", "0x9c", "0xb"],
    },
    {
        "depth": 2,
        "gas": 29478139,
        "gasCost": 33,
        "memory": [],
        "op": "CODECOPY",
        "pc": 9,
        "stack": ["0x9c", "0x0", "0x9c", "0xb", "0x0"],
    },
    {
        "depth": 2,
        "gas": 29478106,
        "gasCost": 0,
        "memory": [
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "RETURN",
        "pc": 10,
        "stack": ["0x9c", "0x0"],
    },
    {
        "depth": 1,
        "gas": 29914813,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "DUP1",
        "pc": 110,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0xd34889481d02656564e061dab813532b5ad9d109",
        ],
    },
    {
        "depth": 1,
        "gas": 29914810,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "ISZERO",
        "pc": 111,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0xd34889481d02656564e061dab813532b5ad9d109",
            "0xd34889481d02656564e061dab813532b5ad9d109",
        ],
    },
    {
        "depth": 1,
        "gas": 29914807,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "PUSH2",
        "pc": 112,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0xd34889481d02656564e061dab813532b5ad9d109",
            "0x0",
        ],
    },
    {
        "depth": 1,
        "gas": 29914804,
        "gasCost": 10,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "JUMPI",
        "pc": 115,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0xd34889481d02656564e061dab813532b5ad9d109",
            "0x0",
            "0x8a",
        ],
    },
    {
        "depth": 1,
        "gas": 29914794,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "SWAP1",
        "pc": 116,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0x60",
            "0xd34889481d02656564e061dab813532b5ad9d109",
        ],
    },
    {
        "depth": 1,
        "gas": 29914791,
        "gasCost": 2,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "POP",
        "pc": 117,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0xd34889481d02656564e061dab813532b5ad9d109",
            "0x60",
        ],
    },
    {
        "depth": 1,
        "gas": 29914789,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "SWAP1",
        "pc": 118,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0x9c",
            "0xd34889481d02656564e061dab813532b5ad9d109",
        ],
    },
    {
        "depth": 1,
        "gas": 29914786,
        "gasCost": 2,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "POP",
        "pc": 119,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0xd34889481d02656564e061dab813532b5ad9d109",
            "0x9c",
        ],
    },
    {
        "depth": 1,
        "gas": 29914784,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "SWAP1",
        "pc": 120,
        "stack": [
            "0xfdf80bda",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
            "0xd34889481d02656564e061dab813532b5ad9d109",
        ],
    },
    {
        "depth": 1,
        "gas": 29914781,
        "gasCost": 2,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "POP",
        "pc": 121,
        "stack": [
            "0xfdf80bda",
            "0xd34889481d02656564e061dab813532b5ad9d109",
            "0x274b028b03a250ca03644e6c578d81f019ee1323",
        ],
    },
    {
        "depth": 1,
        "gas": 29914779,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "PUSH1",
        "pc": 122,
        "stack": ["0xfdf80bda", "0xd34889481d02656564e061dab813532b5ad9d109"],
    },
    {
        "depth": 1,
        "gas": 29914776,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "0000000000000000000000000000000000000000006200009c3d81600b3d39f3",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "MSTORE",
        "pc": 124,
        "stack": ["0xfdf80bda", "0xd34889481d02656564e061dab813532b5ad9d109", "0x60"],
    },
    {
        "depth": 1,
        "gas": 29914773,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "000000000000000000000000d34889481d02656564e061dab813532b5ad9d109",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "PUSH1",
        "pc": 125,
        "stack": ["0xfdf80bda"],
    },
    {
        "depth": 1,
        "gas": 29914770,
        "gasCost": 3,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "000000000000000000000000d34889481d02656564e061dab813532b5ad9d109",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "PUSH1",
        "pc": 127,
        "stack": ["0xfdf80bda", "0x20"],
    },
    {
        "depth": 1,
        "gas": 29914767,
        "gasCost": 0,
        "memory": [
            "0000000000000000000000000000000000000000000000000000000000000000",
            "0000000000000000000000000000000000000000000000000000000000000000",
            "000000000000000000000000274b028b03a250ca03644e6c578d81f019ee1323",
            "000000000000000000000000d34889481d02656564e061dab813532b5ad9d109",
            "6003361161000c57610084565b60003560e01c3461008a5763fdf80bda811861",
            "0082576024361061008a576004358060a01c61008a57604052604051803b5981",
            "1561008a578160381b6a620000003d81600b3d39f31781528160006020830185",
            "3c607b600b8301601583016000f5801561008a57905090509050606052602060",
            "60f35b505b60006000fd5b600080fda165767970657283000307000b00000000",
        ],
        "op": "RETURN",
        "pc": 129,
        "stack": ["0xfdf80bda", "0x20", "0x60"],
    },
]
CALL_TREE_DATA_MAP = {
    CallType.CALL.value: MUTABLE_CALL_TREE_DATA,
    CallType.STATICCALL.value: STATIC_CALL_TREE_DATA,
    CallType.DELEGATECALL.value: DELEGATE_CALL_TREE_DATA,
}


@pytest.fixture(scope="session")
def trace_frame_data():
    """
    One frame of data from `debug_traceTransaction` using the
    `structLog` tracer (default).
    """
    return TRACE_FRAME_DATA


@pytest.fixture(scope="session")
def call_frame_data():
    """
    One frame of data from `debug_traceTransaction` using the
    `structLog` tracer (default) for a CALL frame.
    """
    return CALL_FRAME_DATA


@pytest.fixture(scope="session")
def call_trace_data():
    """
    The data you get from `debug_traceTransaction` using the
    `callTracer` tracer.
    """
    return CALL_TRACE_DATA


@pytest.fixture(scope="session")
def deploy_call_trace_data():
    """
    The data you get from `debug_traceTransaction` using the
    `callTracer` tracer from a deploy transaction.
    """
    return DEPLOY_CALL_TRACE_DATA


@pytest.fixture(
    scope="session",
    params=(CallType.CALL.value, CallType.DELEGATECALL.value, CallType.STATICCALL.value),
)
def call_tree_data(request):
    yield CALL_TREE_DATA_MAP[request.param]


@pytest.fixture
def parity_create2_trace_list():
    trace_list = [ParityTrace.parse_obj(x) for x in PARITY_CREATE2_TRACE]
    return ParityTraceList(__root__=trace_list)


@pytest.fixture
def geth_create2_trace_frames():
    return [TraceFrame(**x) for x in GETH_CREATE2_TRACE]
